# 海洋数据预处理 Bad Cases 测试报告

生成时间: 2026/2/2 15:07:55

## 测试概览

| 指标 | 数量 |
|------|------|
| 总计 | 31 |
| 通过 ✅ | 11 |
| 失败 ❌ | 19 |
| 意外 ⚠️ | 1 |
| 跳过 ⏭️ | 0 |
| **通过率** | **35.5%** |

## 详细结果

### 通过的测试 ✅

| Case | 描述 | 期望 | 实际 | 用户风格 | 耗时 |
|------|------|------|------|----------|------|
| bad_rule_1.1_missing_variable.nc | 缺少变量 (vo) | error | error | professional | 26054ms |
| bad_nan_in_data.nc | NaN 值检测 | error | error | impatient | 86186ms |
| bad_inf_in_data.nc | Inf 值检测 | error | error | formal | 169267ms |
| bad_random_extreme_values.nc | 极端值 | warning | error | professional | 137360ms |
| bad_random_special_varname.nc | 特殊变量名 | error | error | formal | 302872ms |
| bad_random_all_fillvalue.nc | 全填充值 | warning | error | mixed | 114825ms |
| bad_random_coords_nan.nc | 坐标含 NaN | error | error | professional | 35338ms |
| bad_random_single_timestep.nc | 单时间步 | pass | pass | newbie | 31182ms |
| bad_random_checkerboard_nan.nc | 棋盘格 NaN | error | error | lazy | 148715ms |
| bad_random_unlimited_dim.nc | unlimited 维度 | pass | pass | impatient | 28290ms |
| bad_random_no_time_dim.nc | 无时间维度 | error | error | formal | 103586ms |

### 失败的测试 ❌

| Case | 描述 | 期望 | 实际 | 错误信息 |
|------|------|------|------|----------|
| bad_rule_1.3_inconsistent_grid_shape.nc | 网格形状不一致 | error | pass | - |
| bad_rule_1.4_inconsistent_time_length.nc | 时间长度不一致 | error | pass | - |
| bad_rule_2.1_wrong_mask_shape.nc | 掩码形状错误 | error | pass | - |
| bad_rule_2.2_mask_modified.nc | 掩码被修改 | error | pass | - |
| bad_rule_2.3_mask_not_binary.nc | 掩码非二值 | warning | pass | - |
| bad_rule_2.4_cgrid_mismatch.nc | C-grid 形状不匹配 | error | pass | - |
| bad_rule_2.5_mask_inverted.nc | 掩码反转 (启发式) | warning | pass | - |
| bad_rule_3.2_non_monotonic_time.nc | 时间不单调 | error | pass | - |
| bad_rule_3.2_duplicate_time.nc | 时间重复 | error | pass | - |
| bad_rule_3.4_time_gap.nc | 时间间隙 | warning | pass | - |
| bad_coord_out_of_range.nc | 坐标超范围 | warning | pass | - |
| bad_random_all_zeros.nc | 全零数据 | warning | pass | - |
| bad_random_constant_value.nc | 常数值数据 | warning | pass | - |
| bad_random_wrong_dim_order.nc | 维度顺序错误 | error | pass | - |
| bad_random_negative_time.nc | 负数时间 | warning | pass | - |
| bad_random_zero_dimension.nc | 零长度维度 | error | pass | - |
| bad_random_scale_overflow.nc | scale_factor 溢出 | error | pass | - |
| bad_random_coords_jump.nc | 坐标跳跃 | warning | pass | - |
| bad_random_extra_dim.nc | 多余维度 (5D) | error | pass | - |

### 意外结果 ⚠️

| Case | 描述 | 期望 | 实际 | 说明 |
|------|------|------|------|------|
| bad_random_case_sensitive.nc | 大小写变量名 | pass | error | 结果与预期不符，需要复查 |

### 跳过的测试 ⏭️

| Case | 原因 |
|------|------|
| - | - |

## 用户回答风格统计

| 风格 | 测试数 | 通过数 | 通过率 |
|------|--------|--------|--------|
| professional | 4 | 3 | 75.0% |
| newbie | 4 | 1 | 25.0% |
| lazy | 4 | 1 | 25.0% |
| impatient | 4 | 2 | 50.0% |
| formal | 4 | 3 | 75.0% |
| mixed | 4 | 1 | 25.0% |
| typo | 4 | 0 | 0.0% |
| emoji | 3 | 0 | 0.0% |

## 问题分析

### 需要修复的问题


#### bad_rule_1.3_inconsistent_grid_shape.nc
- **问题**: 网格形状不一致
- **期望**: 检测到 error
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_rule_1.4_inconsistent_time_length.nc
- **问题**: 时间长度不一致
- **期望**: 检测到 error
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_rule_2.1_wrong_mask_shape.nc
- **问题**: 掩码形状错误
- **期望**: 检测到 error
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_rule_2.2_mask_modified.nc
- **问题**: 掩码被修改
- **期望**: 检测到 error
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_rule_2.3_mask_not_binary.nc
- **问题**: 掩码非二值
- **期望**: 检测到 warning
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_rule_2.4_cgrid_mismatch.nc
- **问题**: C-grid 形状不匹配
- **期望**: 检测到 error
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_rule_2.5_mask_inverted.nc
- **问题**: 掩码反转 (启发式)
- **期望**: 检测到 warning
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_rule_3.2_non_monotonic_time.nc
- **问题**: 时间不单调
- **期望**: 检测到 error
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_rule_3.2_duplicate_time.nc
- **问题**: 时间重复
- **期望**: 检测到 error
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_rule_3.4_time_gap.nc
- **问题**: 时间间隙
- **期望**: 检测到 warning
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_coord_out_of_range.nc
- **问题**: 坐标超范围
- **期望**: 检测到 warning
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_random_all_zeros.nc
- **问题**: 全零数据
- **期望**: 检测到 warning
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_random_constant_value.nc
- **问题**: 常数值数据
- **期望**: 检测到 warning
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_random_wrong_dim_order.nc
- **问题**: 维度顺序错误
- **期望**: 检测到 error
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_random_negative_time.nc
- **问题**: 负数时间
- **期望**: 检测到 warning
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_random_zero_dimension.nc
- **问题**: 零长度维度
- **期望**: 检测到 error
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_random_scale_overflow.nc
- **问题**: scale_factor 溢出
- **期望**: 检测到 error
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_random_coords_jump.nc
- **问题**: 坐标跳跃
- **期望**: 检测到 warning
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


#### bad_random_extra_dim.nc
- **问题**: 多余维度 (5D)
- **期望**: 检测到 error
- **实际**: pass
- **建议**: 需要在预处理代码中添加对此类异常的检测


### 预处理代码健壮性评估


- **错误检测能力**: 7/18 (38.9%)
- **警告检测能力**: 2/10 (20.0%)
- **整体健壮性**: 11/31 (35.5%)


---
报告生成工具: test-ocean-badcases.ts v1.0.0
